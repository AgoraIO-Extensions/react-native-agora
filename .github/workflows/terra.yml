name: Generate codes
run-name: ${{ github.actor }} triggered this job
on:
  workflow_dispatch:

jobs:
  generate-codes:
    runs-on: macos-latest
    steps:
      - name: Generate codes
        uses: AgoraIO-Extensions/actions/.github/actions/terra@main
        with:
          target-repo: AgoraIO-Extensions/Agora-Flutter-SDK
          target-branch: main
          config: tool/terra/terra_config_main.yaml
          output-dir: lib/src
          export-file-path: lib/agora_rtc_engine.dart
          github-token: ${{ secrets.GH_TOKEN }}
